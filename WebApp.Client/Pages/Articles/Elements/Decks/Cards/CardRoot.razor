@using AnkiBooks.ApplicationCore.Entities

@using AnkiBooks.WebApp.Client.Pages.Articles.Elements.Decks.Cards.Basic
@using AnkiBooks.WebApp.Client.Pages.Articles.Elements.Decks.Cards.Cloze

@if (editingCard == true)
{
    switch(Card)
    {
        case BasicNote bn:
            <EditBasicNote InitialCard="@bn" @bind-EditingCard="editingCard" />
            break;

        case ClozeNote cn:
            <EditClozeNote InitialCard="@cn" @bind-EditingCard="editingCard" />
            break;
    }
}
else
{
    <div class="d-flex flex-row">
        @switch(Card)
        {
            case BasicNote bn:
                <DeckBasicNote BasicNote="@bn" AnswerRevealed="answerRevealed" />
                break;

            case ClozeNote cn:
                <DeckClozeNote ClozeNote="@cn" AnswerRevealed="answerRevealed" />
                break;
        }

        <CardRightSide @bind-EditingCard="editingCard" />
    </div>
    <CardFooter Card="@Card" @bind-AnswerRevealed="answerRevealed" />
}

@code {
    [Parameter]
    public Card Card { get; set; } = null!;

    private bool answerRevealed;

    private bool editingCard;
}